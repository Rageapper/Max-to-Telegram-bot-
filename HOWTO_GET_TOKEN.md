# Как извлечь токен MAX через F12 (DevTools)

## Пошаговая инструкция

### Шаг 1: Откройте веб-версию MAX
1. Откройте браузер (Chrome, Edge, Firefox)
2. Перейдите на https://web.max.ru
3. Войдите в свой аккаунт MAX

### Шаг 2: Откройте инструменты разработчика
- Нажмите **F12** или **Ctrl+Shift+I** (Windows/Linux)
- Или **Cmd+Option+I** (Mac)
- Или правой кнопкой мыши → "Просмотреть код" / "Inspect"

### Шаг 3: Перейдите на вкладку Network (Сеть)
1. В открывшихся инструментах разработчика найдите вкладку **Network** (Сеть)
2. Если вкладок не видно, нажмите кнопку **>>** для показа дополнительных вкладок

### Шаг 4: Фильтрация WebSocket соединений
1. В фильтрах Network нажмите **WS** (WebSocket) или **Все** (All)
2. Очистите текущие запросы кнопкой **Clear** (Очистить) - иконка перечеркнутого круга




### Шаг 5: Обновите страницу или выполните действие
1. Обновите страницу (F5) или выполните какое-либо действие в чате
2. В списке Network появятся WebSocket соединения

### Шаг 6: Найдите WebSocket соединение
1. Найдите запрос с именем **websocket** или **ws-api.oneme.ru**
2. Кликните на него

### Шаг 7: Просмотрите сообщения WebSocket
1. Перейдите на вкладку **Messages** (Сообщения)
2. Найдите сообщения с **opcode: 19** (это сообщение с токеном при подключении)
3. Или найдите сообщения, содержащие **"token"** в payload

### Альтернативный способ: через Application/Storage

#### Вариант 1: LocalStorage
1. В DevTools перейдите на вкладку **Application** (Приложение)
2. В левой панели выберите **Local Storage** → **https://web.max.ru**
3. Найдите ключи, содержащие **token** или **auth**

#### Вариант 2: SessionStorage
1. В DevTools перейдите на вкладку **Application** (Приложение)
2. В левой панели выберите **Session Storage** → **https://web.max.ru**
3. Найдите ключи с токеном

### Шаг 8: Извлеките токен
Токен обычно находится в одном из форматов:
- В JSON сообщении: `"payload": { "tokenAttrs": { "LOGIN": { "token": "ВАШ_ТОКЕН" } } }`
- В LocalStorage/SessionStorage как строка: `"ваш_токен_здесь"`

### Пример того, что искать:

В WebSocket сообщении с opcode 19:
```json
{
  "ver": 11,
  "cmd": 0,
  "seq": 0,
  "opcode": 19,
  "payload": {
    "tokenAttrs": {
      "LOGIN": {
        "token": "ВАШ_ТОКЕН_ЗДЕСЬ"
      }
    }
  }
}
```

### Важные замечания:

1. **Токен действителен ограниченное время** - после истечения срока нужно получить новый
2. **Не делитесь токеном** - он дает полный доступ к вашему аккаунту MAX
3. **Токен может быть длинной строкой** из букв и цифр
4. Если не видите токен сразу, попробуйте:
   - Обновить страницу
   - Открыть любой чат
   - Отправить тестовое сообщение

### Быстрый способ с фильтром:

1. Откройте DevTools (F12)
2. Вкладка **Network** → **WS** (WebSocket)
3. Нажмите на WebSocket соединение
4. Вкладка **Messages**
5. Используйте поиск (Ctrl+F) и найдите **"token"**
6. Скопируйте значение токена
